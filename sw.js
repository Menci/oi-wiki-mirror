var e=self,t=new URL(e.location.href).searchParams,n=t.get("t"),r=t.get("404");e.addEventListener("install",(t=>{t.waitUntil(e.skipWaiting())})),e.addEventListener("fetch",(t=>{const s=new URL(t.request.url);if("GET"!==t.request.method||s.origin!==e.origin)return t.respondWith(fetch(t.request));const a=n+s.pathname.slice(1)+s.search;t.respondWith((async()=>{let e=await fetch(a);return 404===e.status&&r&&(e=await fetch(n+r)),e.ok?e:fetch(t.request)})())}));